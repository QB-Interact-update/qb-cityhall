var Pe=Object.defineProperty;var Se=(e,t,l)=>t in e?Pe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l;var X=(e,t,l)=>(Se(e,typeof t!="symbol"?t+"":t,l),l);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function l(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=l(s);fetch(s.href,i)}})();function j(){}function Ae(e,t){for(const l in t)e[l]=t[l];return e}function je(e){return e()}function oe(){return Object.create(null)}function V(e){e.forEach(je)}function ke(e){return typeof e=="function"}function K(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let U;function ue(e,t){return e===t?!0:(U||(U=document.createElement("a")),U.href=t,e===U.href)}function Me(e){return Object.keys(e).length===0}function Be(e,...t){if(e==null){for(const n of t)n(void 0);return j}const l=e.subscribe(...t);return l.unsubscribe?()=>l.unsubscribe():l}function Y(e,t,l){e.$$.on_destroy.push(Be(t,l))}function Ge(e,t,l,n){if(e){const s=Ee(e,t,l,n);return e[0](s)}}function Ee(e,t,l,n){return e[1]&&n?Ae(l.ctx.slice(),e[1](n(t))):l.ctx}function Ie(e,t,l,n){if(e[2]&&n){const s=e[2](n(l));if(t.dirty===void 0)return s;if(typeof s=="object"){const i=[],r=Math.max(t.dirty.length,s.length);for(let o=0;o<r;o+=1)i[o]=t.dirty[o]|s[o];return i}return t.dirty|s}return t.dirty}function Je(e,t,l,n,s,i){if(s){const r=Ee(t,l,n,i);e.p(r,s)}}function qe(e){if(e.ctx.length>32){const t=[],l=e.ctx.length/32;for(let n=0;n<l;n++)t[n]=-1;return t}return-1}function fe(e,t,l){return e.set(l),t}function d(e,t){e.appendChild(t)}function k(e,t,l){e.insertBefore(t,l||null)}function w(e){e.parentNode&&e.parentNode.removeChild(e)}function le(e,t){for(let l=0;l<e.length;l+=1)e[l]&&e[l].d(t)}function p(e){return document.createElement(e)}function C(e){return document.createTextNode(e)}function N(){return C(" ")}function He(){return C("")}function D(e,t,l,n){return e.addEventListener(t,l,n),()=>e.removeEventListener(t,l,n)}function h(e,t,l){l==null?e.removeAttribute(t):e.getAttribute(t)!==l&&e.setAttribute(t,l)}function Te(e){return Array.from(e.childNodes)}function W(e,t){t=""+t,e.data!==t&&(e.data=t)}function ae(e,t,l){e.classList.toggle(t,!!l)}let H;function q(e){H=e}function Le(){if(!H)throw new Error("Function called outside component initialization");return H}function Ve(e){Le().$$.on_mount.push(e)}function De(e){Le().$$.on_destroy.push(e)}const B=[],de=[];let G=[];const _e=[],Ue=Promise.resolve();let x=!1;function ze(){x||(x=!0,Ue.then(Ne))}function ee(e){G.push(e)}const Z=new Set;let A=0;function Ne(){if(A!==0)return;const e=H;do{try{for(;A<B.length;){const t=B[A];A++,q(t),Fe(t.$$)}}catch(t){throw B.length=0,A=0,t}for(q(null),B.length=0,A=0;de.length;)de.pop()();for(let t=0;t<G.length;t+=1){const l=G[t];Z.has(l)||(Z.add(l),l())}G.length=0}while(B.length);for(;_e.length;)_e.pop()();x=!1,Z.clear(),q(e)}function Fe(e){if(e.fragment!==null){e.update(),V(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ee)}}function Re(e){const t=[],l=[];G.forEach(n=>e.indexOf(n)===-1?t.push(n):l.push(n)),l.forEach(n=>n()),G=t}const z=new Set;let O;function We(){O={r:0,c:[],p:O}}function Ke(){O.r||V(O.c),O=O.p}function P(e,t){e&&e.i&&(z.delete(e),e.i(t))}function T(e,t,l,n){if(e&&e.o){if(z.has(e))return;z.add(e),O.c.push(()=>{z.delete(e),n&&(l&&e.d(1),n())}),e.o(t)}else n&&n()}function I(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Oe(e){e&&e.c()}function se(e,t,l){const{fragment:n,after_update:s}=e.$$;n&&n.m(t,l),ee(()=>{const i=e.$$.on_mount.map(je).filter(ke);e.$$.on_destroy?e.$$.on_destroy.push(...i):V(i),e.$$.on_mount=[]}),s.forEach(ee)}function ie(e,t){const l=e.$$;l.fragment!==null&&(Re(l.after_update),V(l.on_destroy),l.fragment&&l.fragment.d(t),l.on_destroy=l.fragment=null,l.ctx=[])}function Qe(e,t){e.$$.dirty[0]===-1&&(B.push(e),ze(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function re(e,t,l,n,s,i,r,o=[-1]){const f=H;q(e);const c=e.$$={fragment:null,ctx:[],props:i,update:j,not_equal:s,bound:oe(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(f?f.$$.context:[])),callbacks:oe(),dirty:o,skip_bound:!1,root:t.target||f.$$.root};r&&r(c.root);let m=!1;if(c.ctx=l?l(e,t.props||{},(g,b,..._)=>{const y=_.length?_[0]:b;return c.ctx&&s(c.ctx[g],c.ctx[g]=y)&&(!c.skip_bound&&c.bound[g]&&c.bound[g](y),m&&Qe(e,g)),b}):[],c.update(),m=!0,V(c.before_update),c.fragment=n?n(c.ctx):!1,t.target){if(t.hydrate){const g=Te(t.target);c.fragment&&c.fragment.l(g),g.forEach(w)}else c.fragment&&c.fragment.c();t.intro&&P(e.$$.fragment),se(e,t.target,t.anchor),Ne()}q(f)}class ce{constructor(){X(this,"$$");X(this,"$$set")}$destroy(){ie(this,1),this.$destroy=j}$on(t,l){if(!ke(l))return j;const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(l),()=>{const s=n.indexOf(l);s!==-1&&n.splice(s,1)}}$set(t){this.$$set&&!Me(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Xe="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Xe);const J=new Map,Ye=e=>{const{action:t,data:l}=e.data,n=J.get(t);n&&n.forEach(s=>s(l))};window.addEventListener("message",Ye);function Ze(e,t){const l=J.get(e)||[];l.push(t),J.set(e,l),De(()=>{const n=J.get(e)||[];J.set(e,n.filter(s=>s!==t))})}async function F(e,t={}){const l={method:"post",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(t)},n=window.GetParentResourceName?window.GetParentResourceName():"nui-frame-app";return await(await fetch(`https://${n}/${e}`,l)).json()}const M=[];function Q(e,t=j){let l;const n=new Set;function s(o){if(K(e,o)&&(e=o,l)){const f=!M.length;for(const c of n)c[1](),M.push(c,e);if(f){for(let c=0;c<M.length;c+=2)M[c][0](M[c+1]);M.length=0}}}function i(o){s(o(e))}function r(o,f=j){const c=[o,f];return n.add(c),n.size===1&&(l=t(s,i)||j),o(e),()=>{n.delete(c),n.size===0&&l&&(l(),l=null)}}return{set:s,update:i,subscribe:r}}const R=Q(!1),te=Q([]),ne=Q([]),Ce=Q([]);function he(e){let t;const l=e[2].default,n=Ge(l,e,e[1],null);return{c(){n&&n.c()},m(s,i){n&&n.m(s,i),t=!0},p(s,i){n&&n.p&&(!t||i&2)&&Je(n,l,s,s[1],t?Ie(l,s[1],i,null):qe(s[1]),null)},i(s){t||(P(n,s),t=!0)},o(s){T(n,s),t=!1},d(s){n&&n.d(s)}}}function xe(e){let t,l,n=e[0]&&he(e);return{c(){t=p("main"),n&&n.c()},m(s,i){k(s,t,i),n&&n.m(t,null),l=!0},p(s,[i]){s[0]?n?(n.p(s,i),i&1&&P(n,1)):(n=he(s),n.c(),P(n,1),n.m(t,null)):n&&(We(),T(n,1,1,()=>{n=null}),Ke())},i(s){l||(P(n),l=!0)},o(s){T(n),l=!1},d(s){s&&w(t),n&&n.d()}}}function et(e,t,l){let{$$slots:n={},$$scope:s}=t,i;return R.subscribe(r=>{l(0,i=r)}),Ze("setVisible",r=>{R.set(!0),te.set(r.jobs),ne.set(r.licenses),Ce.set(r.playerLicenses)}),Ve(()=>{const r=o=>{i&&["Escape"].includes(o.code)&&(F("hideUI"),R.set(!1))};return window.addEventListener("keydown",r),()=>window.removeEventListener("keydown",r)}),e.$$set=r=>{"$$scope"in r&&l(1,s=r.$$scope)},[i,s,n]}class tt extends ce{constructor(t){super(),re(this,t,et,xe,K,{})}}function pe(e,t,l){const n=e.slice();return n[16]=t[l],n}function me(e,t,l){const n=e.slice();return n[13]=t[l],n}function ge(e,t,l){const n=e.slice();return n[19]=t[l],n}function be(e){let t,l,n;function s(){return e[9](e[19])}return{c(){t=p("button"),t.textContent=`${e[19]} `,h(t,"class","tab svelte-1aj4066"),ae(t,"active",e[0]===e[19])},m(i,r){k(i,t,r),l||(n=D(t,"click",s),l=!0)},p(i,r){e=i,r&17&&ae(t,"active",e[0]===e[19])},d(i){i&&w(t),l=!1,n()}}}function nt(e){let t,l=I(e[2]),n=[];for(let s=0;s<l.length;s+=1)n[s]=ve(pe(e,l,s));return{c(){t=p("div");for(let s=0;s<n.length;s+=1)n[s].c();h(t,"class","grid svelte-1aj4066")},m(s,i){k(s,t,i);for(let r=0;r<n.length;r+=1)n[r]&&n[r].m(t,null)},p(s,i){if(i&260){l=I(s[2]);let r;for(r=0;r<l.length;r+=1){const o=pe(s,l,r);n[r]?n[r].p(o,i):(n[r]=ve(o),n[r].c(),n[r].m(t,null))}for(;r<n.length;r+=1)n[r].d(1);n.length=l.length}},d(s){s&&w(t),le(n,s)}}}function lt(e){let t,l,n=!e[3].includes("driver"),s=I(e[1]),i=[];for(let o=0;o<s.length;o+=1)i[o]=ye(me(e,s,o));let r=n&&we(e);return{c(){t=p("div");for(let o=0;o<i.length;o+=1)i[o].c();l=N(),r&&r.c(),h(t,"class","grid svelte-1aj4066")},m(o,f){k(o,t,f);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(t,null);d(t,l),r&&r.m(t,null)},p(o,f){if(f&138){s=I(o[1]);let c;for(c=0;c<s.length;c+=1){const m=me(o,s,c);i[c]?i[c].p(m,f):(i[c]=ye(m),i[c].c(),i[c].m(t,l))}for(;c<i.length;c+=1)i[c].d(1);i.length=s.length}f&8&&(n=!o[3].includes("driver")),n?r?r.p(o,f):(r=we(o),r.c(),r.m(t,null)):r&&(r.d(1),r=null)},d(o){o&&w(t),le(i,o),r&&r.d()}}}function ve(e){let t,l,n,s,i,r,o,f,c=e[16].label+"",m,g,b,_,y=e[16].description+"",$,u,a,E;function v(){return e[12](e[16])}return{c(){t=p("div"),l=p("div"),n=p("img"),r=N(),o=p("div"),f=p("span"),m=C(c),g=N(),b=p("div"),_=p("span"),$=C(y),u=N(),ue(n.src,s=e[16].image)||h(n,"src",s),h(n,"alt",i=e[16].label),h(n,"class","job-image svelte-1aj4066"),h(l,"class","job-image-container svelte-1aj4066"),h(f,"class","card-title svelte-1aj4066"),h(o,"class","card-header svelte-1aj4066"),h(_,"class","description svelte-1aj4066"),h(b,"class","card-body svelte-1aj4066"),h(t,"class","card job-card svelte-1aj4066")},m(L,S){k(L,t,S),d(t,l),d(l,n),d(t,r),d(t,o),d(o,f),d(f,m),d(t,g),d(t,b),d(b,_),d(_,$),d(t,u),a||(E=D(t,"click",v),a=!0)},p(L,S){e=L,S&4&&!ue(n.src,s=e[16].image)&&h(n,"src",s),S&4&&i!==(i=e[16].label)&&h(n,"alt",i),S&4&&c!==(c=e[16].label+"")&&W(m,c),S&4&&y!==(y=e[16].description+"")&&W($,y)},d(L){L&&w(t),a=!1,E()}}}function $e(e){let t,l,n,s=e[13].label+"",i,r,o,f,c,m=e[13].price+"",g,b,_;function y(){return e[10](e[13])}return{c(){t=p("div"),l=p("div"),n=p("span"),i=C(s),r=N(),o=p("div"),f=p("span"),c=C("$"),g=C(m),h(n,"class","card-title svelte-1aj4066"),h(l,"class","card-header svelte-1aj4066"),h(f,"class","price svelte-1aj4066"),h(o,"class","card-body svelte-1aj4066"),h(t,"class","card svelte-1aj4066")},m($,u){k($,t,u),d(t,l),d(l,n),d(n,i),d(t,r),d(t,o),d(o,f),d(f,c),d(f,g),b||(_=D(t,"click",y),b=!0)},p($,u){e=$,u&2&&s!==(s=e[13].label+"")&&W(i,s),u&2&&m!==(m=e[13].price+"")&&W(g,m)},d($){$&&w(t),b=!1,_()}}}function ye(e){let t=e[3].includes(e[13].license)||e[13].name==="id_card",l,n=t&&$e(e);return{c(){n&&n.c(),l=He()},m(s,i){n&&n.m(s,i),k(s,l,i)},p(s,i){i&10&&(t=s[3].includes(s[13].license)||s[13].name==="id_card"),t?n?n.p(s,i):(n=$e(s),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(s){s&&w(l),n&&n.d(s)}}}function we(e){let t,l,n;return{c(){t=p("div"),t.innerHTML='<div class="card-header svelte-1aj4066"><span class="card-title svelte-1aj4066">Get Drivers License</span></div> <div class="card-body svelte-1aj4066"><span class="price svelte-1aj4066">$100</span></div>',h(t,"class","card svelte-1aj4066")},m(s,i){k(s,t,i),l||(n=D(t,"click",e[11]),l=!0)},p:j,d(s){s&&w(t),l=!1,n()}}}function st(e){let t,l,n,s,i,r,o,f,c,m,g,b=I(e[4]),_=[];for(let a=0;a<b.length;a+=1)_[a]=be(ge(e,b,a));function y(a,E){if(a[0]==="Buy Licenses")return lt;if(a[0]==="Get Jobs")return nt}let $=y(e),u=$&&$(e);return{c(){t=p("div"),l=p("div"),n=p("span"),n.textContent="City Hall",s=N(),i=p("button"),i.textContent="âœ•",r=N(),o=p("div");for(let a=0;a<_.length;a+=1)_[a].c();f=N(),c=p("div"),u&&u.c(),h(n,"class","title svelte-1aj4066"),h(i,"class","close-button svelte-1aj4066"),h(l,"class","header svelte-1aj4066"),h(o,"class","nav-tabs svelte-1aj4066"),h(c,"class","content svelte-1aj4066"),h(t,"class","container svelte-1aj4066")},m(a,E){k(a,t,E),d(t,l),d(l,n),d(l,s),d(l,i),d(t,r),d(t,o);for(let v=0;v<_.length;v+=1)_[v]&&_[v].m(o,null);d(t,f),d(t,c),u&&u.m(c,null),m||(g=D(i,"click",e[5]),m=!0)},p(a,[E]){if(E&81){b=I(a[4]);let v;for(v=0;v<b.length;v+=1){const L=ge(a,b,v);_[v]?_[v].p(L,E):(_[v]=be(L),_[v].c(),_[v].m(o,null))}for(;v<_.length;v+=1)_[v].d(1);_.length=b.length}$===($=y(a))&&u?u.p(a,E):(u&&u.d(1),u=$&&$(a),u&&(u.c(),u.m(c,null)))},i:j,o:j,d(a){a&&w(t),le(_,a),u&&u.d(),m=!1,g()}}}function it(e,t,l){let n,s,i;Y(e,ne,u=>l(1,n=u)),Y(e,te,u=>l(2,s=u)),Y(e,Ce,u=>l(3,i=u));let r=["Get Jobs","Buy Licenses"],o="Get Jobs";fe(te,s=s.sort((u,a)=>u.label.localeCompare(a.label)),s),fe(ne,n=n.sort((u,a)=>u.label.localeCompare(a.label)),n);const f=()=>{R.set(!1),F("hideUI")};function c(u){l(0,o=u)}async function m(u){await F("buyLicense",u)}async function g(u){await F("selectJob",u)}return[o,n,s,i,r,f,c,m,g,u=>c(u),u=>m(u.name),()=>m("drivers_license"),u=>g(u.name)]}class rt extends ce{constructor(t){super(),re(this,t,it,st,K,{})}}const ct=()=>!window.invokeNative,ot=(e,t=1e3)=>{if(ct())for(const l of e)setTimeout(()=>{window.dispatchEvent(new MessageEvent("message",{data:{action:l.action,data:l.data}}))},t)};function ut(e){let t,l;return t=new rt({}),{c(){Oe(t.$$.fragment)},m(n,s){se(t,n,s),l=!0},i(n){l||(P(t.$$.fragment,n),l=!0)},o(n){T(t.$$.fragment,n),l=!1},d(n){ie(t,n)}}}function ft(e){let t,l,n;return l=new tt({props:{$$slots:{default:[ut]},$$scope:{ctx:e}}}),{c(){t=p("main"),Oe(l.$$.fragment)},m(s,i){k(s,t,i),se(l,t,null),n=!0},p(s,[i]){const r={};i&1&&(r.$$scope={dirty:i,ctx:s}),l.$set(r)},i(s){n||(P(l.$$.fragment,s),n=!0)},o(s){T(l.$$.fragment,s),n=!1},d(s){s&&w(t),ie(l)}}}function at(e){return ot([{action:"setVisible",data:!0}]),[]}class dt extends ce{constructor(t){super(),re(this,t,at,ft,K,{})}}new dt({target:document.getElementById("app")});
